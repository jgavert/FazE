ForEach( .Config in .Configs )
{
  Using( .Config )

  Test( '$ProjectName$-$Platform$-$Config$-Actual-Test' )
  {
	.TestExecutable = '$ProjectName$-Exe-$Platform$-$Config$' // Must be previously defined with Executable()
	.TestOutput = 'gtest/test_output_$ProjectName$-$Platform$-$Config$'
	.TestWorkingDir = .WorkspacePath
  }

  Alias( '$ProjectName$-$Platform$-$Config$-Run' )
  {
	.Targets = { '$ProjectName$-$Platform$-$Config$', '$ProjectName$-$Platform$-$Config$-Actual-Test'} 
  }
}

// Aliases
//--------------------------------------------------------------------------
.PlatConfigs = {"X64", "X64Linux"}
// Per-Config
#if __WINDOWS__
Alias( '$ProjectName$-Debug-Run' )    { .Targets = { '$ProjectName$-X64-Debug-Run'} } // to gather all one platform configs
Alias( '$ProjectName$-Profile-Run' )  { .Targets = { '$ProjectName$-X64-Profile-Run'} }
Alias( '$ProjectName$-Release-Run' )  { .Targets = { '$ProjectName$-X64-Release-Run'} }
#else
Alias( '$ProjectName$-Debug-Run' )    { .Targets = { '$ProjectName$-X64Linux-Debug-Run'} } // to gather all one platform configs
Alias( '$ProjectName$-Profile-Run' )  { .Targets = { '$ProjectName$-X64Linux-Profile-Run'} }
Alias( '$ProjectName$-Release-Run' )  { .Targets = { '$ProjectName$-X64Linux-Release-Run'} }
#endif

// Per-Platform
Alias( '$ProjectName$-X64-Run' )  { .Targets = { '$ProjectName$-X64-Debug-Run', '$ProjectName$-X64-Release-Run', '$ProjectName$-X64-Profile-Run' } }

Alias( '$ProjectName$-x64Linux-Run' ) { .Targets = { '$ProjectName$-X64Linux-Debug-Run', '$ProjectName$-X64Linux-Release-Run', '$ProjectName$-X64Linux-Profile-Run' } }

// All
Alias( '$ProjectName$-Run' )
{
.Targets = { '$ProjectName$-Debug-Run', '$ProjectName$-Profile-Run', '$ProjectName$-Release-Run' }
}
